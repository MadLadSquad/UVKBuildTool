cmake_minimum_required(VERSION 3.19)

if (APPLE)
    message(FATAL_ERROR "You're currently working on an Apple machine! Apple and their platforms are not supported, if
you wish to help with adding support for apple devices, please do a pull request on the main engine repository as well
as on the UVKBuildTool repository(this file is generated by it!) and consider maintaining the apple builds!")
endif()

project(UntitledImGuiFramework)
project(${{name}})

set(CMAKE_CXX_STANDARD 20)

add_subdirectory(ThirdParty/glfw)
add_subdirectory(ThirdParty/glew)

option(USE_AUDIO_MODULE "Use the audio module" OFF)
option(USE_LOCALE_MODULE "Use the locale module" OFF)
option(USE_NETWORKING_MODULE "Use the networking module" OFF)
option(USE_PLOTTING_MODULE "Use the plotting module" OFF)
option(USE_UNDO_MODULE "Use the Undo/Redo module" OFF)
option(USE_VIDEO_MODULE "Use the video module" OFF)

include_directories(ThirdParty/glfw/include)
include_directories(ThirdParty/glew/include)
include_directories(ThirdParty/imgui/backends/everything)
include_directories(ThirdParty/imgui/)
include_directories(Core/)
include_directories(Renderer/)

link_directories(ThirdParty/glew/lib)
link_directories(UVKBuildTool/build)

file(GLOB_RECURSE UGUI_SRC "Core/*.cpp" "Renderer/*.cpp" "ThirdParty/imgui/backends/everything/*.cpp" "ThirdParty/imgui/misc/cpp/*.cpp")
file(GLOB_RECURSE UGUI_HEAD "Core/*.hpp" "Renderer/*.hpp" "ThirdParty/imgui/backends/everything/*.h" "ThirdParty/imgui/misc/cpp/*.h" )

add_library(UntitledImGuiFramework SHARED ${UGUI_SRC} ${UGUI_HEAD})
set_target_properties(UntitledImGuiFramework PROPERTIES LINKER_LANGUAGE CXX)
target_link_libraries(UntitledImGuiFramework glfw GLEW OpenGL util pthread UVKBuildToolLib)